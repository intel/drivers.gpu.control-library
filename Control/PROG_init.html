

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Initialization &mdash; IGCL Specification  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Display API Programming Guide" href="PROG_display.html" />
    <link rel="prev" title="IGCL API Programming Guide" href="../prog.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            IGCL Specification
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="INTRO.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="INTRO.html#fundamentals">Fundamentals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../prog.html">IGCL API Programming Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../prog.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prog.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prog.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../prog.html#developer-guide">Developer Guide</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">API Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-level-zero">Using Level Zero</a></li>
<li class="toctree-l3"><a class="reference internal" href="PROG_display.html">Display API Programming Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="PROG_media.html">Media Programming Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Previous Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IGCL Specification</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">


  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-initialization">
<span id="initialization-programming-guide"></span><h1>API Initialization<a class="headerlink" href="#api-initialization" title="Link to this heading"></a></h1>
<p>Applications need to include the “igcl_api.h” header file in the applications project. All application developers are encouraged to include the “cApiWrapper.cpp” file . The wrapper file abstracts the code for dynamic loading of the library along with the function pointer creation.</p>
<p>Any application which needs to communicate with the Intel Graphics Hardware needs to use the Intel Graphics Control Libray to enumerate the available Intel Graphics Adapters on the system.
Each of the enumerated adapters will have a unique handle and the applications can use the unique handle to call the api.The adapter handle parameter of the API ensures that the api is targeted to the correct adapter.</p>
<p>The pseudo code below shows how to initialize the IGCL library and enumerate the adapters:</p>
<pre class="literal-block">function main( ... )
 <a class="reference internal" href="api.html#ctl-init-args-t"><span class="std std-ref">ctl_init_args_t</span></a> CtlInitArgs;
 ctl_api_handle_t hAPIHandle;
    if (<a class="reference internal" href="api.html#ctlinit"><span class="std std-ref">ctlInit</span></a>(CtlInitArgs, &amp;hAPIHandle) != <a class="reference internal" href="api.html#ctl-result-t"><span class="std std-ref">CTL_RESULT_SUCCESS</span></a>)
        output(&quot;Can't initialize the API&quot;)
    else
        # Enumerate all adapters
        ctl_device_adapter_handle_t *hDevices = nullptr;
        uint32_t Adapter_count = 0;
        <a class="reference internal" href="api.html#ctlenumeratedevices"><span class="std std-ref">ctlEnumerateDevices</span></a>(hAPIHandle,&amp;Adapter_count, hDevices);
        hDevices = (ctl_device_adapter_handle_t *)malloc(sizeof(ctl_device_adapter_handle_t) * Adapter_count);
        <a class="reference internal" href="api.html#ctlenumeratedevices"><span class="std std-ref">ctlEnumerateDevices</span></a>(hAPIHandle,&amp;Adapter_count, hDevices);

        #Use the handle to call the api's

        for(index = 0 .. Adapter_count-1)
            # Get Adapter Properties
            <a class="reference internal" href="api.html#ctl-device-adapter-properties-t"><span class="std std-ref">ctl_device_adapter_properties_t</span></a> StDeviceAdapterProperties = { 0 };

            #OS specific initialization.This is an Windows example

            StDeviceAdapterProperties.Size           = sizeof(<a class="reference internal" href="api.html#ctl-device-adapter-properties-t"><span class="std std-ref">ctl_device_adapter_properties_t</span></a>);
            StDeviceAdapterProperties.pDeviceID      = malloc(sizeof(LUID));
            StDeviceAdapterProperties.device_id_size = sizeof(LUID);
            <a class="reference internal" href="api.html#ctlgetdeviceproperties"><span class="std std-ref">ctlGetDeviceProperties</span></a>(hDevices[Index], &amp;StDeviceAdapterProperties);


 free_memory(...)</pre>
</section>
<section id="using-level-zero">
<h1>Using Level Zero<a class="headerlink" href="#using-level-zero" title="Link to this heading"></a></h1>
<p>IGCL provide an API to retrieve level zero handle for a given device adapter.
Following C++ code shows how to do the same.</p>
<pre class="literal-block">#include &quot;ze_ddi.h&quot; // to call Level zero directly
ctl_result_t Level0HandleTest(ctl_device_adapter_handle_t hDevices)
{
    ctl_result_t Result = CTL_RESULT_SUCCESS;
    ze_device_handle_t Ze_device;
    ze_device_module_properties_t ZemoduleProperties;
    HINSTANCE hLevel0Loader = NULL;

    Result = ctlGetZeDevice(hDevices, &amp;Ze_device, &amp;(void *)hLevel0Loader);
    if (CTL_RESULT_SUCCESS == Result &amp;&amp; Ze_device != NULL)
    {
        std::cout &lt;&lt; &quot;Success: ctlDevice = &quot; &lt;&lt; hDevices &lt;&lt; &quot; ze_device = &quot; &lt;&lt; Ze_device &lt;&lt; std::endl;
    }
    else
    {
        std::cout &lt;&lt; &quot;Error: Not able to get ze_device!n&quot;;
    }

    // Try to get a level0 function using getprocaddress()
    if (hLevel0Loader &amp;&amp; Ze_device)
    {
        ze_pfnDeviceGetModuleProperties_t pfnDeviceGetModuleProperties = (ze_pfnDeviceGetModuleProperties_t)GetProcAddress(hLevel0Loader, &quot;zeDeviceGetModuleProperties&quot;);
        if (pfnDeviceGetModuleProperties)
        {
            std::cout &lt;&lt; &quot;Success: Obtained level0 zeDeviceGetModuleProperties &quot;
                         &quot;functionn&quot;;

            if (pfnDeviceGetModuleProperties(Ze_device, &amp;ZemoduleProperties) == ZE_RESULT_SUCCESS)
            {
                std::cout &lt;&lt; &quot;zemoduleProperties::spirvVersionSupported = &quot; &lt;&lt; ZemoduleProperties.spirvVersionSupported &lt;&lt; std::endl;
            }
            else
            {
                std::cout &lt;&lt; &quot;pfnDeviceGetModuleProperties() returned failuren&quot;;
            }
        }
        else
        {
            std::cout &lt;&lt; &quot;Error: Not able to get level0 loader functionn&quot;;
        }
    }
    else
    {
        std::cout &lt;&lt; &quot;Error: Not able to get level0 instancen&quot;;
    }

    free_memory(...)

    return Result;
}</pre>
<p>Refer samples for example code snippets of various API’s</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../prog.html" class="btn btn-neutral float-left" title="IGCL API Programming Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="PROG_display.html" class="btn btn-neutral float-right" title="Display API Programming Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Intel.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>